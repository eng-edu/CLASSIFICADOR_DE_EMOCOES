<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DATA MINING</title>
</head>
<body>

 <canvas id="myChart"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"> </script>
    <script src="/socket.io/socket.io.js"></script>
    
    <script> 
        
        var ctx = document.getElementById("myChart").getContext("2d");
        
        var myChart = new Chart(ctx, {

            type: 'line',
            data: {
                labels : [],
                datasets: [
                    
                {
                    label: ["Análise Naive Byes"],
                    data : [],
                    borderWidth : 3,
                    borderColor : 'rgba(100,140,255,0.81)',
                    backgroundColor : 'rgba(97,133,243,0.81)',
                    pointBackgroundColor: '#212121',
                    pointBorderColor: '#D32F2F',
                 
                }]
            },
            
            options: {
                title: {
                    display: true,
                    text: ''
                }         
            }
        });
      
    </script>


    <script type="text/javascript">
	    var socket = io(); // instâcia o objeto socket..
        //chamada da função dadosArduino que recebe os dados.
        var contador = 0;
	    socket.on("data", function(result){

            var raw = result.raw;
           
            var r1 = raw[0].value
            var r2 = raw[1].value
            var r3 = raw[2].value
            var r4 = raw[3].value
            var r5 = raw[4].value
            var r6 = raw[5].value

            var l1 = raw[0].label
            var l2 = raw[1].label
            var l3 = raw[2].label
            var l4 = raw[3].label
            var l5 = raw[4].label
            var l6 = raw[5].label
            

            myChart.options.title.text = 'Frase:  \"' + result.frase + '\"   -   Classifição : \"' + l1 + '\" ' + r1;
            myChart.data.datasets[0].data.push(r1,r2,r3,r4,r5,r6);
            myChart.data.labels.push(l1,l2,l3,l4,l5,l6);
        
            myChart.update();
        });
        
    </script>  


</body>
</html>